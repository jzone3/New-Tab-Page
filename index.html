<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="search.css" />
	<link href='http://fonts.googleapis.com/css?family=Share+Tech' rel='stylesheet' type='text/css'>
	<title>Search</title>

	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>

</head>
<body background="bg2.png">
	<form id="searchbox">
		<input id="search" class="noEnterSubmit" type="text" placeholder="Type here" autocomplete="off" autofocus="autofocus" spellcheck="false">
		<!-- <input id="submit" type="submit" value="Search"> -->
	</form>

	<div id="results" style="display: none;">
		
	</div>

	<script type="text/javascript">
		var shown = false;

		$('.noEnterSubmit').keypress(function(e){
			if ( e.which == 13 ) {
				if (!shown) {
					$('#results').show()
					$('#results').animate({
						height: "360px",
						padding: "20px 20px",
					}, 2000);
					shown = true;
				}

				$.ajax({
					type:'GET',
					url:'http://api.duckduckgo.com/',
					dataType: 'script',
					data: {
						q: $('#search')[0].value,
						o: "json",
						format: "json",
						pretty: "1"
					},
					success: function(response) {
						var responseData = jQuery.parseJSON(jQuery.trim(response));
						$('#results').html('<h1>' + responseData["Heading"] + '</h1><br/>' + responseData["Abstract"]);
					}
				})

				e.preventDefault();
			}
		});

		// http://api.duckduckgo.com/?q=simpsons+characters&format=json&pretty=1
	</script>
</body>
</html>
